// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{isPrimitive as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import{isPrimitive as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@v0.2.2-esm/index.mjs";import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-arraybuffer@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import{isPrimitive as h}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-byte-order@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-lowercase@v0.4.0-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-iterator-symbol-support@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-prototype-of@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/array-buffer@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dataview@v0.2.2-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-getter@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-getter@v0.2.2-esm/index.mjs";import{factory as g}from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-contains@v0.2.2-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-bytes-per-element@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-capitalize@v0.3.0-esm/index.mjs";import _ from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";function j(t){var r,e;for(r=[];!(e=t.next()).done;)r.push(e.value);return r}var T=a(),L="little-endian",x="big-endian",F={float64:"setFloat64",float32:"setFloat32",int32:"setInt32",int16:"setInt16",uint32:"setUint32",uint16:"setUint16"},A={float64:"getFloat64",float32:"getFloat32",int32:"getInt32",int16:"getInt16",uint32:"getUint32",uint16:"getUint16"},R={c:"a",f:"a",i:"an",u:"a",b:"a"},P=g(["float64","float32","int32","int16","uint32","uint16"]);function I(t){return h(t)?l(t):null}function O(t){return t===L}function M(t){return t?L:x}function S(h){var l,a,g,L;if(!P(h))throw new TypeError(_("invalid argument. First argument must be a supported data type. Value: `%s`.",h));function x(){var r,e,h,a,d,w,c,y;if(h=arguments.length,!(this instanceof x))return h<2?new x(arguments[0]):2===h?new x(arguments[0],arguments[1]):3===h?new x(arguments[0],arguments[1],arguments[2]):new x(arguments[0],arguments[1],arguments[2],arguments[3]);if(null===(e=I(arguments[0]))||!f(e))throw new TypeError(_("invalid argument. First argument must be a supported byte order. Value: `%s`.",arguments[0]));if(a=O(e),0===(h-=1))d=new v(new m(0));else if(1===h)if(t(c=arguments[h]))d=new v(new m(c*l));else if(i(c))d=N(new v(new m(c.length*l)),c,a);else if(n(c))d=new v(c);else{if(!s(c))throw new TypeError(_("null2A",c));if(!1===T)throw new TypeError(_("null29",c));if(!o(c[u]))throw new TypeError(_("null2A",c));if(d=c[u](),!o(d.next))throw new TypeError(_("null2A",c));y=j(d),d=N(new v(new m(y.length*l)),y,a)}else{if(!n(d=arguments[1]))throw new TypeError(_("invalid argument. Must provide an ArrayBuffer. Value: `%s`.",d));if(!t(r=arguments[2]))throw new TypeError(_("null2C",r));if(2===h)d=new v(d,r);else{if(!t(w=arguments[3]))throw new TypeError(_("null2F",w));if((w*=l)>d.byteLength-r)throw new RangeError(_("null2G",w));d=new v(d,r,w)}}return p(this,"_buffer",d),p(this,"_length",d.byteLength/l),p(this,"_isLE",a),this}return l=E(h),a=function(t){return b(t)+"ArrayFE"}(h),g=A[h],L=F[h],p(x,"BYTES_PER_ELEMENT",l),p(x,"name",a),p(x,"from",(function(t,r){var e,n,p,d,w,m,v,g,E,b,x;if(!o(this))throw new TypeError(_("null01"));if(!S(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(null===(n=I(t))||!f(n))throw new TypeError(_("invalid argument. First argument must be a supported byte order. Value: `%s`.",t));if(w=O(n),(p=arguments.length)>2){if(!o(d=arguments[2]))throw new TypeError(_("null3N",d));p>3&&(e=arguments[3])}if(i(r)){if(d){for(b=r.length,E=r.get&&r.set?y("default"):c("default"),v=(m=new this(n,b))._buffer,x=0;x<b;x++)v[L](x*l,d.call(e,E(r,x),x),w);return m}return new this(n,r)}if(s(r)&&T&&o(r[u])){if(v=r[u](),!o(v.next))throw new TypeError(_("nullAt",r));for(g=d?function(t,r,e){var i,n,s;for(i=[],s=-1;!(n=t.next()).done;)s+=1,i.push(r.call(e,n.value,s));return i}(v,d,e):j(v),v=(m=new this(n,b=g.length))._buffer,x=0;x<b;x++)v[L](x*l,g[x],w);return m}throw new TypeError(_("nullAt",r))})),p(x,"of",(function(t){var r,e,i;if(!o(this))throw new TypeError(_("null01"));if(!S(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(null===(r=I(t))||!f(r))throw new TypeError(_("invalid argument. First argument must be a supported byte order. Value: `%s`.",t));for(e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);return new this(r,e)})),p(x.prototype,"at",(function(t){var e;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(!r(t))throw new TypeError(_("null8A",t));if(e=this._length,t<0&&(t+=e),!(t<0||t>=e))return this._buffer[g](t*l,this._isLE)})),w(x.prototype,"buffer",(function(){return this._buffer.buffer})),w(x.prototype,"byteLength",(function(){return this._buffer.byteLength})),w(x.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),p(x.prototype,"BYTES_PER_ELEMENT",x.BYTES_PER_ELEMENT),p(x.prototype,"every",(function(t,r){var e,i;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(!o(t))throw new TypeError(_("null3c",t));for(e=this._buffer,i=0;i<this._length;i++)if(!t.call(r,e[g](i*l,this._isLE),i,this))return!1;return!0})),p(x.prototype,"forEach",(function(t,r){var e,i;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(!o(t))throw new TypeError(_("null3c",t));for(e=this._buffer,i=0;i<this._length;i++)t.call(r,e[g](i*l,this._isLE),i,this)})),p(x.prototype,"filter",(function(t,r){var e,i,n,s;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(!o(t))throw new TypeError(_("null3c",t));for(e=this._buffer,i=[],n=0;n<this._length;n++)s=e[g](n*l,this._isLE),t.call(r,s,n,this)&&i.push(s);return new this.constructor(M(this._isLE),i)})),p(x.prototype,"get",(function(r){if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(!t(r))throw new TypeError(_("null2K",r));if(!(r>=this._length))return this._buffer[g](r*l,this._isLE)})),p(x.prototype,"indexOf",(function(t,e){var i,n;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(arguments.length>1){if(!r(e))throw new TypeError(_("null7f",e));e<0&&(e+=this._length)<0&&(e=0)}else e=0;for(i=this._buffer,n=e;n<this._length;n++)if(i[g](n*l,this._isLE)===t)return n;return-1})),p(x.prototype,"lastIndexOf",(function(t,e){var i,n;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(arguments.length>1){if(!r(e))throw new TypeError(_("null7f",e));if(e<0&&(e+=this._length),e<0)return-1;e>=this._length&&(e=this._length-1)}else e=this._length-1;for(i=this._buffer,n=e;n>=0;n--)if(i[g](n*l,this._isLE)===t)return n;return-1})),w(x.prototype,"length",(function(){return this._length})),p(x.prototype,"map",(function(t,r){var e,i,n,s,f;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(!o(t))throw new TypeError(_("null3c",t));for(n=this._buffer,e=(i=new this.constructor(M(this._isLE),this._length))._buffer,s=0;s<this._length;s++)f=t.call(r,n[g](s*l,this._isLE),s,this),e[L](s*l,f,this._isLE);return i})),p(x.prototype,"reduce",(function(t,r){var e,i,n,s;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(!o(t))throw new TypeError(_("null3c",t));if(e=this._buffer,i=this._length,arguments.length>1)n=r,s=0;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");n=e[g](0*l,this._isLE),s=1}for(;s<i;s++)n=t(n,e[g](s*l,this._isLE),s,this);return n})),p(x.prototype,"reduceRight",(function(t,r){var e,i,n,s;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(!o(t))throw new TypeError(_("null3c",t));if(e=this._buffer,i=this._length,arguments.length>1)n=r,s=i-1;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");n=e[g]((i-1)*l,this._isLE),s=i-2}for(;s>=0;s--)n=t(n,e[g](s*l,this._isLE),s,this);return n})),p(x.prototype,"set",(function(r){var e,n,s,o,f,u,p,d;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(s=this._buffer,arguments.length>1){if(!t(n=arguments[1]))throw new TypeError(_("null2L",n))}else n=0;if(i(r)){if(n+(u=r.length)>this._length)throw new RangeError(_("null03"));if(f=(e=r).get&&e.set?y("default"):c("default"),d=s.byteOffset+n*l,e.buffer===s.buffer&&e.byteOffset<d&&e.byteOffset+e.byteLength>d){for(o=[],p=0;p<r.length;p++)o.push(f(r,p));e=o,f=c("default")}for(p=0;p<u;n++,p++)s[L](n*l,f(e,p),this._isLE)}else{if(n>=this._length)throw new RangeError(_("null2M",n));s[L](n*l,r,this._isLE)}})),p(x.prototype,"some",(function(t,r){var e,i;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(!o(t))throw new TypeError(_("null3c",t));for(e=this._buffer,i=0;i<this._length;i++)if(t.call(r,e[g](i*l,this._isLE),i,this))return!0;return!1})),p(x.prototype,"toString",(function(){var t,r,e;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));for(t=[],r=this._buffer,e=0;e<this._length;e++)t.push(r[g](e*l,this._isLE));return t.join(",")})),p(x.prototype,"join",(function(t){var r,e,i,n;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));for(i=arguments.length>0?String(t):",",r=[],e=this._buffer,n=0;n<this._length;n++)r.push(e[g](n*l,this._isLE));return r.join(i)})),p(x.prototype,"with",(function(t,i){var n,s,o;if(!B(this))throw new TypeError(_("invalid invocation. `this` is not %s %s.",R[h[0]],a));if(!r(t))throw new TypeError(_("null7e",t));if(o=this._length,n=this._buffer,t<0&&(t+=o),t<0||t>=o)throw new RangeError(_("nullFP",t));if(!e(i))throw new TypeError(_("null4A",i));return(s=new this.constructor(M(this._isLE),n.buffer))._buffer[L](t*l,i,this._isLE),s})),x;function S(t){return t===x}function B(t){return"object"==typeof t&&null!==t&&(t.constructor.name===a||d(t,x.prototype))&&t.BYTES_PER_ELEMENT===l}function N(t,r,e){var i,n,s;for(i=r.length,n=r.get&&r.set?y("default"):c("default"),s=0;s<i;s++)t[L](s*l,n(r,s),e);return t}}export{S as default};
//# sourceMappingURL=index.mjs.map
