// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{isPrimitive as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-arraybuffer@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import{isPrimitive as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-byte-order@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-lowercase@v0.4.0-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-iterator-symbol-support@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-prototype-of@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/array-buffer@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dataview@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-getter@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-getter@v0.2.2-esm/index.mjs";import{factory as v}from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-contains@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-bytes-per-element@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-capitalize@v0.3.0-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";function c(t){var e,r;for(e=[];!(r=t.next()).done;)e.push(r.value);return e}var E=f(),T={float64:"setFloat64",float32:"setFloat32",int32:"setInt32",int16:"setInt16",uint32:"setUint32",uint16:"setUint16"},_={float64:"getFloat64",float32:"getFloat32",int32:"getInt32",int16:"getInt16",uint32:"getUint32",uint16:"getUint16"},x={float64:"a",float32:"a",int32:"an",int16:"an",uint32:"a",uint16:"a"},L=v(["float64","float32","int32","int16","uint32","uint16"]);function F(t){return i(t)?l(t):null}function A(t){return"little-endian"===t}function R(i){var l,f,v,R;if(!L(i))throw new TypeError(y("invalid argument. First argument must be a supported data type. Value: `%s`.",i));function M(){var i,f,u,d,g,w,v,b;if(u=arguments.length,!(this instanceof M))return u<2?new M(arguments[0]):2===u?new M(arguments[0],arguments[1]):3===u?new M(arguments[0],arguments[1],arguments[2]):new M(arguments[0],arguments[1],arguments[2],arguments[3]);if(null===(f=F(arguments[0]))||!o(f))throw new TypeError(y("invalid argument. First argument must be a supported byte order. Value: `%s`.",arguments[0]));if(d=A(f),0===(u-=1))g=new m(new p(0));else if(1===u)if(t(v=arguments[u]))g=new m(new p(v*l));else if(e(v))g=O(new m(new p(v.length*l)),v,d);else if(r(v))g=new m(v);else{if(!n(v))throw new TypeError(y("null2A",v));if(!1===E)throw new TypeError(y("null29",v));if(!s(v[a]))throw new TypeError(y("null2A",v));if(g=v[a](),!s(g.next))throw new TypeError(y("null2A",v));b=c(g),g=O(new m(new p(b.length*l)),b,d)}else{if(!r(g=arguments[1]))throw new TypeError(y("invalid argument. Must provide an ArrayBuffer. Value: `%s`.",g));if(!t(i=arguments[2]))throw new TypeError(y("null2C",i));if(2===u)g=new m(g,i);else{if(!t(w=arguments[3]))throw new TypeError(y("null2F",w));if((w*=l)>g.byteLength-i)throw new RangeError(y("null2G",w));g=new m(g,i,w)}}return h(this,"_buffer",g),h(this,"_length",g.byteLength/l),h(this,"_isLE",d),this}return l=b(i),f=function(t){return j(t)+"ArrayFE"}(i),v=_[i],R=T[i],h(M,"BYTES_PER_ELEMENT",l),h(M,"name",f),h(M,"from",(function(t,r){var h,u,d,p,m,v,b,j,T,_,L;if(!s(this))throw new TypeError(y("null01"));if(!B(this))throw new TypeError(y("invalid invocation. `this` is not %s %s.",x[i],f));if(null===(u=F(t))||!o(u))throw new TypeError(y("invalid argument. First argument must be a supported byte order. Value: `%s`.",t));if(m=A(u),(d=arguments.length)>2){if(!s(p=arguments[2]))throw new TypeError(y("null3N",p));d>3&&(h=arguments[3])}if(e(r)){if(p){for(_=r.length,T=r.get&&r.set?w("default"):g("default"),b=(v=new this(u,_))._buffer,L=0;L<_;L++)b[R](L*l,p.call(h,T(r,L),L),m);return v}return new this(u,r)}if(n(r)&&E&&s(r[a])){if(b=r[a](),!s(b.next))throw new TypeError(y("nullAt",r));for(j=p?function(t,e,r){var n,s,i;for(n=[],i=-1;!(s=t.next()).done;)i+=1,n.push(e.call(r,s.value,i));return n}(b,p,h):c(b),b=(v=new this(u,_=j.length))._buffer,L=0;L<_;L++)b[R](L*l,j[L],m);return v}throw new TypeError(y("nullAt",r))})),h(M,"of",(function(t){var e,r,n;if(!s(this))throw new TypeError(y("null01"));if(!B(this))throw new TypeError(y("invalid invocation. `this` is not %s %s.",x[i],f));if(null===(e=F(t))||!o(e))throw new TypeError(y("invalid argument. First argument must be a supported byte order. Value: `%s`.",t));for(r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);return new this(e,r)})),d(M.prototype,"buffer",(function(){return this._buffer.buffer})),d(M.prototype,"byteLength",(function(){return this._buffer.byteLength})),d(M.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),h(M.prototype,"BYTES_PER_ELEMENT",M.BYTES_PER_ELEMENT),h(M.prototype,"get",(function(e){if(!N(this))throw new TypeError(y("invalid invocation. `this` is not %s %s.",x[i],f));if(!t(e))throw new TypeError(y("null2K",e));if(!(e>=this._length))return this._buffer[v](e*l,this._isLE)})),d(M.prototype,"length",(function(){return this._length})),h(M.prototype,"set",(function(r){var n,s,o,a,h,u,d,p;if(!N(this))throw new TypeError(y("invalid invocation. `this` is not %s %s.",x[i],f));if(o=this._buffer,arguments.length>1){if(!t(s=arguments[1]))throw new TypeError(y("null2L",s))}else s=0;if(e(r)){if(s+(u=r.length)>this._length)throw new RangeError(y("null03"));if(h=(n=r).get&&n.set?w("default"):g("default"),p=o.byteOffset+s*l,n.buffer===o.buffer&&n.byteOffset<p&&n.byteOffset+n.byteLength>p){for(a=[],d=0;d<r.length;d++)a.push(h(r,d));n=a,h=g("default")}for(d=0;d<u;s++,d++)o[R](s*l,h(n,d),this._isLE)}else{if(s>=this._length)throw new RangeError(y("null2M",s));o[R](s*l,r,this._isLE)}})),h(M.prototype,"toString",(function(){var t,e,r;if(!N(this))throw new TypeError(y("invalid invocation. `this` is not %s %s.",x[i],f));for(t=[],e=this._buffer,r=0;r<this._length;r++)t.push(e[v](r*l,this._isLE));return t.join(",")})),M;function B(t){return t===M}function N(t){return"object"==typeof t&&null!==t&&(t.constructor.name===f||u(t,M.prototype))&&t.BYTES_PER_ELEMENT===l}function O(t,e,r){var n,s,i;for(n=e.length,s=e.get&&e.set?w("default"):g("default"),i=0;i<n;i++)t[R](i*l,s(e,i),r);return t}}export{R as default};
//# sourceMappingURL=index.mjs.map
