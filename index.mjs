// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import{isPrimitive as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-arraybuffer@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import{isPrimitive as o}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-byte-order@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-lowercase@v0.4.0-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-iterator-symbol-support@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-prototype-of@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/array-buffer@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dataview@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-getter@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-getter@v0.2.2-esm/index.mjs";import{factory as b}from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-contains@v0.2.2-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-bytes-per-element@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-capitalize@v0.3.0-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";function E(t){var e,r;for(e=[];!(r=t.next()).done;)e.push(r.value);return e}var T=h(),_={float64:"setFloat64",float32:"setFloat32",int32:"setInt32",int16:"setInt16",uint32:"setUint32",uint16:"setUint16"},x={float64:"getFloat64",float32:"getFloat32",int32:"getInt32",int16:"getInt16",uint32:"getUint32",uint16:"getUint16"},L={c:"a",f:"a",i:"an",u:"a",b:"a"},F=b(["float64","float32","int32","int16","uint32","uint16"]);function A(t){return o(t)?f(t):null}function R(t){return"little-endian"===t}function M(o){var f,h,b,M;if(!F(o))throw new TypeError(j("invalid argument. First argument must be a supported data type. Value: `%s`.",o));function P(){var e,o,h,d,p,w,g,b;if(h=arguments.length,!(this instanceof P))return h<2?new P(arguments[0]):2===h?new P(arguments[0],arguments[1]):3===h?new P(arguments[0],arguments[1],arguments[2]):new P(arguments[0],arguments[1],arguments[2],arguments[3]);if(null===(o=A(arguments[0]))||!l(o))throw new TypeError(j("invalid argument. First argument must be a supported byte order. Value: `%s`.",arguments[0]));if(d=R(o),0===(h-=1))p=new v(new m(0));else if(1===h)if(t(g=arguments[h]))p=new v(new m(g*f));else if(r(g))p=O(new v(new m(g.length*f)),g,d);else if(n(g))p=new v(g);else{if(!s(g))throw new TypeError(j("null2A",g));if(!1===T)throw new TypeError(j("null29",g));if(!i(g[a]))throw new TypeError(j("null2A",g));if(p=g[a](),!i(p.next))throw new TypeError(j("null2A",g));b=E(p),p=O(new v(new m(b.length*f)),b,d)}else{if(!n(p=arguments[1]))throw new TypeError(j("invalid argument. Must provide an ArrayBuffer. Value: `%s`.",p));if(!t(e=arguments[2]))throw new TypeError(j("null2C",e));if(2===h)p=new v(p,e);else{if(!t(w=arguments[3]))throw new TypeError(j("null2F",w));if((w*=f)>p.byteLength-e)throw new RangeError(j("null2G",w));p=new v(p,e,w)}}return u(this,"_buffer",p),u(this,"_length",p.byteLength/f),u(this,"_isLE",d),this}return f=c(o),h=function(t){return y(t)+"ArrayFE"}(o),b=x[o],M=_[o],u(P,"BYTES_PER_ELEMENT",f),u(P,"name",h),u(P,"from",(function(t,e){var n,u,d,p,m,v,b,c,y,_,x;if(!i(this))throw new TypeError(j("null01"));if(!B(this))throw new TypeError(j("invalid invocation. `this` is not %s %s.",L[o[0]],h));if(null===(u=A(t))||!l(u))throw new TypeError(j("invalid argument. First argument must be a supported byte order. Value: `%s`.",t));if(m=R(u),(d=arguments.length)>2){if(!i(p=arguments[2]))throw new TypeError(j("null3N",p));d>3&&(n=arguments[3])}if(r(e)){if(p){for(_=e.length,y=e.get&&e.set?g("default"):w("default"),b=(v=new this(u,_))._buffer,x=0;x<_;x++)b[M](x*f,p.call(n,y(e,x),x),m);return v}return new this(u,e)}if(s(e)&&T&&i(e[a])){if(b=e[a](),!i(b.next))throw new TypeError(j("nullAt",e));for(c=p?function(t,e,r){var n,s,i;for(n=[],i=-1;!(s=t.next()).done;)i+=1,n.push(e.call(r,s.value,i));return n}(b,p,n):E(b),b=(v=new this(u,_=c.length))._buffer,x=0;x<_;x++)b[M](x*f,c[x],m);return v}throw new TypeError(j("nullAt",e))})),u(P,"of",(function(t){var e,r,n;if(!i(this))throw new TypeError(j("null01"));if(!B(this))throw new TypeError(j("invalid invocation. `this` is not %s %s.",L[o[0]],h));if(null===(e=A(t))||!l(e))throw new TypeError(j("invalid argument. First argument must be a supported byte order. Value: `%s`.",t));for(r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);return new this(e,r)})),u(P.prototype,"at",(function(t){var r;if(!N(this))throw new TypeError(j("invalid invocation. `this` is not %s %s.",L[o[0]],h));if(!e(t))throw new TypeError(j("null8A",t));if(r=this._length,t<0&&(t+=r),!(t<0||t>=r))return this._buffer[b](t*f,this._isLE)})),p(P.prototype,"buffer",(function(){return this._buffer.buffer})),p(P.prototype,"byteLength",(function(){return this._buffer.byteLength})),p(P.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),u(P.prototype,"BYTES_PER_ELEMENT",P.BYTES_PER_ELEMENT),u(P.prototype,"forEach",(function(t,e){var r,n;if(!N(this))throw new TypeError(j("invalid invocation. `this` is not %s %s.",L[o[0]],h));if(!i(t))throw new TypeError(j("null3c",t));for(r=this._buffer,n=0;n<this._length;n++)t.call(e,r[b](n*f,this._isLE),n,this)})),u(P.prototype,"get",(function(e){if(!N(this))throw new TypeError(j("invalid invocation. `this` is not %s %s.",L[o[0]],h));if(!t(e))throw new TypeError(j("null2K",e));if(!(e>=this._length))return this._buffer[b](e*f,this._isLE)})),p(P.prototype,"length",(function(){return this._length})),u(P.prototype,"set",(function(e){var n,s,i,l,a,u,d,p;if(!N(this))throw new TypeError(j("invalid invocation. `this` is not %s %s.",L[o[0]],h));if(i=this._buffer,arguments.length>1){if(!t(s=arguments[1]))throw new TypeError(j("null2L",s))}else s=0;if(r(e)){if(s+(u=e.length)>this._length)throw new RangeError(j("null03"));if(a=(n=e).get&&n.set?g("default"):w("default"),p=i.byteOffset+s*f,n.buffer===i.buffer&&n.byteOffset<p&&n.byteOffset+n.byteLength>p){for(l=[],d=0;d<e.length;d++)l.push(a(e,d));n=l,a=w("default")}for(d=0;d<u;s++,d++)i[M](s*f,a(n,d),this._isLE)}else{if(s>=this._length)throw new RangeError(j("null2M",s));i[M](s*f,e,this._isLE)}})),u(P.prototype,"toString",(function(){var t,e,r;if(!N(this))throw new TypeError(j("invalid invocation. `this` is not %s %s.",L[o[0]],h));for(t=[],e=this._buffer,r=0;r<this._length;r++)t.push(e[b](r*f,this._isLE));return t.join(",")})),P;function B(t){return t===P}function N(t){return"object"==typeof t&&null!==t&&(t.constructor.name===h||d(t,P.prototype))&&t.BYTES_PER_ELEMENT===f}function O(t,e,r){var n,s,i;for(n=e.length,s=e.get&&e.set?g("default"):w("default"),i=0;i<n;i++)t[M](i*f,s(e,i),r);return t}}export{M as default};
//# sourceMappingURL=index.mjs.map
